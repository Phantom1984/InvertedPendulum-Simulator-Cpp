# 一阶倒立摆动力学建模文档

## 模型示意图
![carpole_model](./images/carpole_model.png)  
*注：请将图片文件放在项目根目录的`images/`文件夹中*

---

## 物理参数定义
| 参数名称       | 符号表示   | 说明                     |
|---------------|-----------|-------------------------|
| 小车质量        | M         |                          |
| 摆杆质量        | m         | 长度 l，转动惯量 I=1/3ml² |
| 摆杆角度        | θ         | 逆时针方向为正            |
| 小车位移        | x         | 向右为正方向              |
| 外力输入        | F         | 作用于小车的控制力        |
| 地面摩擦系数    | b         |                          |

---

## 非线性动力学方程
### 方向1：逆时针角度为正
//i.upmath.me/svg/%5Cddot%7B%5Ctheta%7D%20%3D%20%5Cfrac%7B-m%20l%20%5Ccos%20%5Ctheta%20b%20%5Cdot%7Bx%7D%20-%20m%5E2%20l%5E2%20%5Csin%20%5Ctheta%20%5Ccos%20%5Ctheta%20%5Cdot%7B%5Ctheta%7D%5E2%20%2B%20m%20l%20%5Ccos%20%5Ctheta%20F%20%2B%20(M%20%2B%20m)%20m%20g%20l%20%5Csin%20%5Ctheta%7D%7B(M%20%2B%20m)%5Cleft(I%20%2B%20m%20l%5E2%5Cright)%20-%20m%5E2%20l%5E2%20%5Ccos%20%5Ctheta%5E2%7D

### 方向2：顺时针角度为正
（此处插入角加速度和加速度公式图片链接）

---

## 线性化模型（LQR控制）
### 状态空间方程
（此处插入矩阵A和B的公式图片链接）

---

## LQR位置跟踪实现
通过修改状态向量实现目标位置跟踪：
```cpp
// 代码示例：状态向量偏移
double x_ref = 1.0; // 设定目标位置
x << state[0] - x_ref, state[1], state[2], state[3];
